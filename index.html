<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Expense Tracker</title>
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/css/select2.min.css" rel="stylesheet" />
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        text-align: center;
        background-image: url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQfcmQUQl8nOaG1gpuCGtzHYd0aOEgagicuCQ&s');
        background-size: cover;
    }
    h1 {
        color: #333;
    }
    #container {
        background-color: rgba(218, 208, 208, 0.8); /* Add opacity */
        padding: 20px;
        margin: 20px auto;
        max-width: 800px;
        border-radius: 10px;
    }
    #expense-form {
        margin-bottom: 20px;
    }
    form {
        display: inline-block;
        text-align: left;
    }
    form label {
        display: block;
        margin-bottom: 5px;
        color: #555;
    }
    input[type="text"],
    input[type="number"],
    button,
    select {
        padding: 8px;
        margin-bottom: 10px;
        border: 1px solid #dfd5d5;
        border-radius: 4px;
    }
    button {
        background-color: #4caf50;
        color: white;
        border: none;
        cursor: pointer;
    }
    button:hover {
        background-color: #45a049;
    }
    table {
        width: 80%;
        border-collapse: collapse;
        margin: 0 auto;
        background-color: #fff;
    }
    th, td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;
    }
    th {
        background-color: #f2f2f2;
    }
    .edit-btn, .delete-btn {
        cursor: pointer;
        border: none;
        background: none;
        color: blue;
    }
    .edit-btn:hover, .delete-btn:hover {
        text-decoration: underline;
    }
    #total-expense {
        margin-top: 20px;
        font-weight: bold;
    }
</style>
</head>
<body>
<div id="container">
    <h1>Expense Tracker</h1>
    <form id="expense-form">
        <label for="expense">Expense:</label>
        <input type="text" id="expense">
        <label for="amount">Amount:</label>
        <input type="number" id="amount">
        <select id="currency">
            <option></option>
            <option value="USD">USD - United States Dollar</option>
            <option value="EUR">EUR - Euro</option>
            <option value="JPY">JPY - Japanese Yen</option>
            <option value="GBP">GBP - British Pound Sterling</option>
            <option value="AUD">AUD - Australian Dollar</option>
            <option value="CAD">CAD - Canadian Dollar</option>
            <option value="CHF">CHF - Swiss Franc</option>
            <option value="CNY">CNY - Chinese Yuan</option>
            <option value="SEK">SEK - Swedish Krona</option>
            <option value="NZD">NZD - New Zealand Dollar</option>
            <option value="KRW">KRW - South Korean Won</option>
            <option value="SGD">SGD - Singapore Dollar</option>
            <option value="NOK">NOK - Norwegian Krone</option>
            <option value="MXN">MXN - Mexican Peso</option>
            <option value="INR">INR - Indian Rupee</option>
            <option value="RUB">RUB - Russian Ruble</option>
            <option value="ZAR">ZAR - South African Rand</option>
            <option value="BRL">BRL - Brazilian Real</option>
            <option value="TRY">TRY - Turkish Lira</option>
            <option value="HKD">HKD - Hong Kong Dollar</option>
            <option value="PLN">PLN - Polish Zloty</option>
            <option value="DKK">DKK - Danish Krone</option>
            <option value="THB">THB - Thai Baht</option>
            <option value="IDR">IDR - Indonesian Rupiah</option>
            <option value="HUF">HUF - Hungarian Forint</option>
            <option value="CZK">CZK - Czech Koruna</option>
            <option value="ILS">ILS - Israeli New Shekel</option>
            <option value="CLP">CLP - Chilean Peso</option>
            <option value="PHP">PHP - Philippine Peso</option>
            <option value="AED">AED - United Arab Emirates Dirham</option>
            <option value="KWD">KWD - Kuwaiti Dinar</option>
            <option value="SAR">SAR - Saudi Riyal</option>
            <option value="EGP">EGP - Egyptian Pound</option>
            <option value="MYR">MYR - Malaysian Ringgit</option>
            <option value="QAR">QAR - Qatari Riyal</option>
            <option value="VND">VND - Vietnamese Dong</option>
            <option value="ARS">ARS - Argentine Peso</option>
            <option value="CRC">CRC - Costa Rican Colón</option>
            <option value="UAH">UAH - Ukrainian Hryvnia</option>
            <option value="NGN">NGN - Nigerian Naira</option>
            <option value="RON">RON - Romanian Leu</option>
            <option value="COP">COP - Colombian Peso</option>
            <option value="PEN">PEN - Peruvian Sol</option>
            <option value="PKR">PKR - Pakistani Rupee</option>
            <option value="BDT">BDT - Bangladeshi Taka</option>
            <option value="IQD">IQD - Iraqi Dinar</option>
            <option value="DOP">DOP - Dominican Peso</option>
            <option value="HRK">HRK - Croatian Kuna</option>
            <option value="LKR">LKR - Sri Lankan Rupee</option>
            <option value="NPR">NPR - Nepalese Rupee</option>
            <option value="BHD">BHD - Bahraini Dinar</option>
            <option value="OMR">OMR - Omani Rial</option>
            <option value="MAD">MAD - Moroccan Dirham</option>
            <option value="GTQ">GTQ - Guatemalan Quetzal</option>
            <option value="MMK">MMK - Burmese Kyat</option>
            <option value="ETB">ETB - Ethiopian Birr</option>
            <option value="LBP">LBP - Lebanese Pound</option>
            <option value="JOD">JOD - Jordanian Dinar</option>
            <option value="KES">KES - Kenyan Shilling</option>
            <option value="PAB">PAB - Panamanian Balboa</option>
            <option value="YER">YER - Yemeni Rial</option>
            <option value="DZD">DZD - Algerian Dinar</option>
            <option value="UGX">UGX - Ugandan Shilling</option>
            <option value="UZS">UZS - Uzbekistani Som</option>
            <option value="BYN">BYN - Belarusian Ruble</option>
            <option value="CUP">CUP - Cuban Peso</option>
            <option value="VUV">VUV - Vanuatu Vatu</option>
            <option value="TOP">TOP - Tongan Pa'anga</option>
            <option value="BIF">BIF - Burundian Franc</option>
            <option value="HTG">HTG - Haitian Gourde</option>
            <option value="GMD">GMD - Gambian Dalasi</option>
            <option value="KHR">KHR - Cambodian Riel</option>
            <option value="LRD">LRD - Liberian Dollar</option>
            <option value="MZN">MZN - Mozambican Metical</option>
            <option value="NAD">NAD - Namibian Dollar</option>
            <option value="NIO">NIO - Nicaraguan Córdoba</option>
            <option value="PGK">PGK - Papua New Guinean Kina</option>
            <option value="RWF">RWF - Rwandan Franc</option>
            <option value="SBD">SBD - Solomon Islands Dollar</option>
            <option value="SLL">SLL - Sierra Leonean Leone</option>
            <option value="SZL">SZL - Swazi Lilangeni</option>
            <option value="TJS">TJS - Tajikistani Somoni</option>
            <option value="TMT">TMT - Turkmenistan Manat</option>
            <option value="VND">VND - Vietnamese Dong</option>
            <option value="WST">WST - Samoan Tala</option>
            <option value="XAF">XAF - Central African CFA Franc</option>
            <option value="XOF">XOF - West African CFA Franc</option>
            <option value="XPF">XPF - CFP Franc</option>
            <!-- Add more currencies as needed -->
        </select>
        <button type="submit">Add Expense</button>
    </form>
    <table id="expense-table">
        <thead>
            <tr>
                <th>Expense</th>
                <th>Amount</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody id="expense-list"></tbody>
    </table>
    <div id="total-expense">Total Expense: ₹<span id="total-amount">0.00</span></div>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/js/select2.min.js"></script>
<script>
    $(document).ready(function() {
        $('#currency').select2({
            placeholder: 'Select a currency',
            allowClear: true // Allow clearing the selection
        });
    });

    document.addEventListener('DOMContentLoaded', () => {
        const expenseForm = document.getElementById('expense-form');
        const expenseList = document.getElementById('expense-list');
        const totalAmountSpan = document.getElementById('total-amount');
        let totalAmount = 0;

        expenseForm.addEventListener('submit', addExpense);

        function addExpense(event) {
            event.preventDefault();
            const expenseInput = document.getElementById('expense');
            const amountInput = document.getElementById('amount');
            const currencySelect = document.getElementById('currency');

            if (expenseInput.value === '' || amountInput.value === '') {
                alert('Please enter both expense and amount');
                return;
            }

            const expense = expenseInput.value;
            const amount = parseFloat(amountInput.value);
            const currency = currencySelect.value;

            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${expense}</td>
                <td>${currency} - ${getCountryName(currency)} ${amount.toFixed(2)}</td>
                <td>
                    <button class="edit-btn">Edit</button>
                    <button class="delete-btn">Delete</button>
                </td>
            `;
            expenseList.appendChild(row);

            // Update total amount
            totalAmount += amount;
            totalAmountSpan.textContent = totalAmount.toFixed(2);

            expenseForm.reset();
            saveToLocalStorage();
        }

        expenseList.addEventListener('click', handleAction);

        function handleAction(event) {
            if (event.target.classList.contains('edit-btn')) {
                editExpense(event.target.parentElement.parentElement);
            } else if (event.target.classList.contains('delete-btn')) {
                deleteExpense(event.target.parentElement.parentElement);
            }
        }

        function editExpense(row) {
            const expenseCells = row.querySelectorAll('td');
            const expenseInput = document.getElementById('expense');
            const amountInput = document.getElementById('amount');

            expenseInput.value = expenseCells[0].textContent;
            amountInput.value = parseFloat(expenseCells[1].textContent.split(' ')[3]).toFixed(2);
            // Remove currency and country name from the amount value before setting it to the input

            row.remove();
            saveToLocalStorage();
        }

        function deleteExpense(row) {
            const amountCell = row.querySelector('td:nth-child(2)').textContent;
            const amount = parseFloat(amountCell.split(' ')[3]);
            totalAmount -= amount;
            totalAmountSpan.textContent = totalAmount.toFixed(2);

            row.remove();
            saveToLocalStorage();
        }

        function saveToLocalStorage() {
            const rows = expenseList.querySelectorAll('tr');
            const expenses = [];

            rows.forEach(row => {
                const expenseCells = row.querySelectorAll('td');
                const expense = {
                    name: expenseCells[0].textContent,
                    amount: parseFloat(expenseCells[1].textContent.split(' ')[3]) // Extract amount without currency and country name
                };
                expenses.push(expense);
            });

            localStorage.setItem('expenses', JSON.stringify(expenses));
        }

        function loadFromLocalStorage() {
            const expenses = JSON.parse(localStorage.getItem('expenses'));
            if (expenses) {
                expenses.forEach(expense => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${expense.name}</td>
                        <td>INR - India ${expense.amount.toFixed(2)}</td>
                        <td>
                            <button class="edit-btn">Edit</button>
                            <button class="delete-btn">Delete</button>
                        </td>
                    `;
                    expenseList.appendChild(row);
                });

                // Calculate total amount from loaded expenses
                totalAmount = expenses.reduce((total, exp) => total + exp.amount, 0);
                totalAmountSpan.textContent = totalAmount.toFixed(2);
            }
        }

        loadFromLocalStorage();
    });

    function getCountryName(currency) {
        switch (currency) {
            case 'USD': return 'United States';
            case 'EUR': return 'European Union';
            case 'JPY': return 'Japan';
            case 'GBP': return 'United Kingdom';
            case 'AUD': return 'Australia';
            case 'CAD': return 'Canada';
            case 'CHF': return 'Switzerland';
            case 'CNY': return 'China';
            case 'SEK': return 'Sweden';
            case 'NZD': return 'New Zealand';
            case 'KRW': return 'South Korea';
            case 'SGD': return 'Singapore';
            case 'NOK': return 'Norway';
            case 'MXN': return 'Mexico';
            case 'INR': return 'India';
            case 'RUB': return 'Russia';
            case 'ZAR': return 'South Africa';
            case 'BRL': return 'Brazil';
            case 'TRY': return 'Turkey';
            case 'HKD': return 'Hong Kong';
            case 'PLN': return 'Poland';
            case 'DKK': return 'Denmark';
            case 'THB': return 'Thailand';
            case 'IDR': return 'Indonesia';
            case 'HUF': return 'Hungary';
            case 'CZK': return 'Czech Republic';
            case 'ILS': return 'Israel';
            case 'CLP': return 'Chile';
            case 'PHP': return 'Philippines';
            case 'AED': return 'United Arab Emirates';
            case 'KWD': return 'Kuwait';
            case 'SAR': return 'Saudi Arabia';
            case 'EGP': return 'Egypt';
            case 'MYR': return 'Malaysia';
            case 'QAR': return 'Qatar';
            case 'VND': return 'Vietnam';
            case 'ARS': return 'Argentina';
            case 'CRC': return 'Costa Rica';
            case 'UAH': return 'Ukraine';
            case 'NGN': return 'Nigeria';
            case 'RON': return 'Romania';
            case 'COP': return 'Colombia';
            case 'PEN': return 'Peru';
            case 'PKR': return 'Pakistan';
            case 'BDT': return 'Bangladesh';
            case 'IQD': return 'Iraq';
            case 'DOP': return 'Dominican Republic';
            case 'HRK': return 'Croatia';
            case 'LKR': return 'Sri Lanka';
            case 'NPR': return 'Nepal';
            case 'BHD': return 'Bahrain';
            case 'OMR': return 'Oman';
            case 'MAD': return 'Morocco';
            case 'GTQ': return 'Guatemala';
            case 'MMK': return 'Myanmar';
            case 'ETB': return 'Ethiopia';
            case 'LBP': return 'Lebanon';
            case 'JOD': return 'Jordan';
            case 'KES': return 'Kenya';
            case 'PAB': return 'Panama';
            case 'YER': return 'Yemen';
            case 'DZD': return 'Algeria';
            case 'UGX': return 'Uganda';
            case 'UZS': return 'Uzbekistan';
            case 'BYN': return 'Belarus';
            case 'CUP': return 'Cuba';
            case 'VUV': return 'Vanuatu';
            case 'TOP': return 'Tonga';
            case 'BIF': return 'Burundi';
            case 'HTG': return 'Haiti';
            case 'GMD': return 'Gambia';
            case 'KHR': return 'Cambodia';
            case 'LRD': return 'Liberia';
            case 'MZN': return 'Mozambique';
            case 'NAD': return 'Namibia';
            case 'NIO': return 'Nicaragua';
            case 'PGK': return 'Papua New Guinea';
            case 'RWF': return 'Rwanda';
            case 'SBD': return 'Solomon Islands';
            case 'SLL': return 'Sierra Leone';
            case 'SZL': return 'Eswatini';
            case 'TJS': return 'Tajikistan';
            case 'TMT': return 'Turkmenistan';
            case 'WST': return 'Samoa';
            case 'XAF': return 'Central African Republic';
            case 'XOF': return 'West Africa';
            case 'XPF': return 'French Polynesia';
            // Add more cases as needed
            default: return '';
        }
    }
</script>
</body>
</html>
